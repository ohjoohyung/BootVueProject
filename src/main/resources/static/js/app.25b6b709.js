(function(t){function e(e){for(var o,i,c=e[0],s=e[1],u=e[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),a=n.n(o);a.a},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view"),n("Footer")],1)},r=[],i=n("30dc"),c=n.n(i),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[null==t.isAuthenticated?n("router-link",{attrs:{to:"/join"}},[t._v("회원가입")]):t._e(),t._v(" "),null==t.isAuthenticated?n("router-link",{attrs:{to:"/login"}},[t._v("로그인")]):t._e(),t._v(" "),null!=t.isAuthenticated?n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("로그아웃")]):t._e(),t._v(" "),null!=t.isAuthenticated?n("router-link",{attrs:{to:"/me"}},[t._v("Me")]):t._e()],1)},u=[],l=(n("b0c0"),n("a15b"),n("d81d"),n("fb6a"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("2f62")),d=n("bc3a"),p=n.n(d);o["a"].use(l["a"]);var m=function(){var t=localStorage,e=t.accessToken;e&&(p.a.defaults.headers.common["Authorization"]="Bearer ".concat(e))};m();var g=function(t){var e=t.split(".")[1],n=e.replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(n).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(o)},f=new l["a"].Store({state:{accessToken:null===localStorage.accessToken?null:localStorage.accessToken,paging:{pageNumber:1,pageSize:10,totalPages:0,totalElements:0,firstPage:1,prevPage:0,nextPage:0,endPage:0,pageNumberList:[1],selected:"",keyWord:""}},getters:{isAuthenticated:function(t){return t.accessToken},getUserName:function(t){if(null!=t.accessToken)return g(t.accessToken).name},getPaging:function(t){return t.paging}},mutations:{LOGIN:function(t,e){t.accessToken=e,localStorage.accessToken=e},LOGOUT:function(t){t.accessToken=null,delete localStorage.accessToken},PAGING:function(t,e){t.paging.pageNumber=e.pageNumber+1,t.paging.pageSize=e.pageSize,t.paging.totalPages=e.totalPages,t.paging.totalElements=e.totalElements,t.paging.selected=e.selected,t.paging.keyWord=e.keyWord,0===Math.floor(e.pageNumber/e.pageSize)?t.paging.prevPage=1:t.paging.prevPage=Math.floor(e.pageNumber/e.pageSize)*e.pageSize,t.paging.prevPage+e.pageSize>e.totalPages?t.paging.nextPage=e.totalPages:t.paging.nextPage=1===t.paging.prevPage?t.paging.prevPage+e.pageSize:t.paging.prevPage+e.pageSize+1,t.paging.endPage=e.totalPages;var n=[],o=t.paging.nextPage===e.totalPages?t.paging.totalPages+1:t.paging.nextPage,a=1===t.paging.prevPage?1:t.paging.prevPage+1;for(a;a<o;a++)n.push(a);t.paging.pageNumberList=n}},actions:{LOGIN:function(t,e){var n=t.commit,o=e.email,a=e.password;return p.a.post("/api/login",{email:o,password:a}).then((function(t){var e=t.data;n("LOGIN",e),p.a.defaults.headers.common["Authorization"]="Bearer ".concat(e)})).catch((function(){console.log("login fail")}))},LOGOUT:function(t){var e=t.commit;p.a.defaults.headers.common["Authorization"]=void 0,e("LOGOUT")}}}),v={computed:{isAuthenticated:function(){return f.getters.isAuthenticated}},methods:{logout:function(){var t=this;f.dispatch("LOGOUT").then((function(){return t.$router.push("/").catch((function(t){if("NavigationDuplicated"!=t.name)throw t}))}))}}},h=v,_=n("2877"),w=Object(_["a"])(h,s,u,!1,null,null,null),b=w.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" footer입니당 ")])},y=[],k={name:"Footer"},N=k,$=Object(_["a"])(N,P,y,!1,null,"77b4c4f2",null),x=$.exports,O={name:"App",components:{Footer:x,Header:b},mounted:function(){c()("http://localhost:8081/api/hello",(function(t,e,n){window.console.log("error: ",t),window.console.log("statusCode: ",e&&e.statusCode),window.console.log("body: ",n)}))}},S=O,j=(n("034f"),Object(_["a"])(S,a,r,!1,null,null,null)),D=j.exports,E=n("8c4f"),L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("메인 페이지")]),n("div",[t.isAuthenticated?n("router-link",{attrs:{to:"/write"}},[t._v("글쓰기")]):t._e()],1),n("div",[n("table",{staticStyle:{margin:"0px auto"}},[n("th",[t._v("번호")]),n("th",[t._v("제목")]),n("th",[t._v("작성자")]),n("th",[t._v("작성일")]),t._l(t.boardList,(function(e){return n("tbody",{key:e.id},[n("tr",[n("td",[t._v(t._s(e.id))]),n("td",[n("a",{on:{click:function(n){return t.enterContent(e.id)}}},[t._v(t._s(e.title))])]),n("td",[t._v(t._s(e.userName))]),n("td",[t._v(t._s(e.modifyDate))])])])}))],2)]),n("div",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?n:n[0]}}},t._l(t.options,(function(e){return n("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.text))])})),0),n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],attrs:{type:"text",placeholder:"검색어를 입력해주세요"},domProps:{value:t.keyWord},on:{input:function(e){e.target.composing||(t.keyWord=e.target.value)}}}),n("button",{on:{click:function(e){return t.search(t.selected,t.keyWord)}}},[t._v("검색")])]),n("div",[n("Paging")],1)])},C=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:function(e){return t.goPage(1,t.myPaging.selected,t.myPaging.keyWord)}}},[t._v("<<")]),n("button",{on:{click:function(e){return t.goPage(t.myPaging.prevPage,t.myPaging.selected,t.myPaging.keyWord)}}},[t._v("<")]),t._l(t.myPaging.pageNumberList,(function(e){return n("span",{key:e},[e===t.myPaging.pageNumber?n("span",{staticStyle:{"font-weight":"bold"},domProps:{textContent:t._s(e)},on:{click:function(n){return t.goPage(e,t.myPaging.selected,t.myPaging.keyWord)}}}):n("span",{domProps:{textContent:t._s(e)},on:{click:function(n){return t.goPage(e,t.myPaging.selected,t.myPaging.keyWord)}}})])})),n("button",{on:{click:function(e){return t.goPage(t.myPaging.nextPage,t.myPaging.selected,t.myPaging.keyWord)}}},[t._v(">")]),n("button",{on:{click:function(e){return t.goPage(t.myPaging.endPage,t.myPaging.selected,t.myPaging.keyWord)}}},[t._v(">>")])],2)},A=[],T={data:function(){return{myPaging:{pageNumber:1,pageSize:10,totalPages:0,totalElements:0,firstPage:1,prevPage:0,nextPage:0,endPage:0,pageNumberList:[1],selected:"",keyWord:""}}},created:function(){this.myPaging=this.$store.getters.getPaging},methods:{goPage:function(t,e,n){this.$EventBus.$emit("goPage",t-1,e,n)}}},z=T,U=Object(_["a"])(z,W,A,!1,null,"dab7eb7e",null),G=U.exports,I={components:{Paging:G},computed:{isAuthenticated:function(){return f.getters.isAuthenticated}},data:function(){return{list:"",boardList:"",selected:"titleContent",options:[{text:"제목+내용",value:"titleContent"},{text:"제목",value:"title"},{text:"내용",value:"content"},{text:"작성자",value:"userName"}],keyWord:""}},created:function(){var t=this;this.fetchData(0),this.$EventBus.$on("goPage",(function(e,n,o){t.fetchData(e,n,o)}))},watch:{$route:"fetchData"},methods:{fetchData:function(t,e,n){var o=this,a="/api/board/list/"+t;null!=e&&null!=n&&(a+="?"+e+"="+n),p.a.get(a).then((function(t){o.boardList=t.data.list.content,o.$store.commit("PAGING",{pageNumber:t.data.list.number,pageSize:t.data.list.size,totalPages:t.data.list.totalPages,totalElements:t.data.list.totalElements,selected:e,keyWord:n})})).catch((function(t){window.alert(t)}))},enterContent:function(t){this.$router.push("/content/"+t)},search:function(t,e){this.selected&&this.keyWord?this.fetchData(0,t,e):window.alert("검색어를 입력해주세요.")}}},M=I,B=Object(_["a"])(M,L,C,!1,null,"9d0d4bd4",null),J=B.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("회원가입")]),n("p",[t._v("ID : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("p",[t._v("PWD : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("p",[t._v("이름 : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("button",{on:{click:t.join}},[t._v("가입")])])},H=[],R={data:function(){return{email:"",password:"",name:""}},methods:{join:function(){if(this.email&&this.password&&this.name){var t=this;p.a.post("/api/join",{email:this.email,password:this.password,name:this.name}).then((function(e){window.alert(e),t.$router.push({path:"/login"})})).catch((function(t){window.alert(t)}))}else window.alert("모든 항목을 입력해주세요.")}}},q=R,K=Object(_["a"])(q,F,H,!1,null,"777dd49c",null),Q=K.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("로그인")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.email,t.password)}}},[n("p",[t._v("ID : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("p",[t._v("PWD : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("input",{attrs:{type:"submit",value:"Login"}})]),n("p",[n("i",[t._v(t._s(t.msg))])])])},X=[],Y={data:function(){return{email:"",password:"",msg:""}},methods:{onSubmit:function(t,e){var n=this;this.email&&this.password?this.$store.dispatch("LOGIN",{email:t,password:e}).then((function(){return n.redirect()})).catch((function(t){var e=t.message;return n.msg=e})):window.alert("모든 항목을 입력해주세요.")},redirect:function(){this.$router.push("/")}}},Z=Y,tt=Object(_["a"])(Z,V,X,!1,null,"13eaa804",null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("여긴 ME")])},ot=[],at={name:"me"},rt=at,it=Object(_["a"])(rt,nt,ot,!1,null,"757fc088",null),ct=it.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("글쓰기")]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"제목"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:"내용"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("button",{on:{click:t.write}},[t._v("작성")]),n("button",{on:{click:t.cancel}},[t._v("취소")])])])},ut=[],lt={data:function(){return{title:"",content:""}},methods:{write:function(){var t=this;this.title.length>0&&this.content.length>0?p.a.post("/api/board/write",{userName:this.$store.getters.getUserName,title:this.title,content:this.content}).then((function(e){window.alert(e.data.msg),1===e.data.result?t.$router.push("/"):t.$router.replace("/write")})).catch((function(t){window.alert(t)})):window.alert("모든 내용을 작성하고 버튼을 눌러주세요.")},cancel:function(){this.$router.replace("/")}}},dt=lt,pt=Object(_["a"])(dt,st,ut,!1,null,"c61c9f32",null),mt=pt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("게시글 상세페이지")]),n("div",[n("p",[t._v("작성자: "+t._s(t.board.userName))]),n("p",[t._v("작성일: "+t._s(t.board.modifyDate))]),n("p",[t._v("글번호: "+t._s(t.board.id))]),n("p",[t._v("제 목: "+t._s(t.board.title))]),n("p",[t._v("내 용: "+t._s(t.board.content))])]),n("div",[!0===t.userNameCheck?n("button",{on:{click:t.board_modify}},[t._v("수정")]):t._e(),!0===t.userNameCheck?n("button",{on:{click:t.board_delete}},[t._v("삭제")]):t._e(),n("button",{on:{click:t.goBack}},[t._v("뒤로가기")])]),n("Comment")],1)},ft=[],vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:"댓글을 입력하세요."},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("button",{on:{click:t.comment_write}},[t._v("댓글 등록")]),n("button",{attrs:{type:"reset"}},[t._v("취소")]),n("p",[t._v("댓글영역")]),t._l(t.commentList,(function(e){return n("div",{key:e.id},[n("span",[t._v("작성자 : "+t._s(e.userName))]),t._v(" "),t.modifyCheck?n("span",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],domProps:{value:e.content},on:{input:function(n){n.target.composing||t.$set(e,"content",n.target.value)}}})]):n("span",[t._v("내용 : "+t._s(e.content))]),n("span",[t._v("작성일 : "+t._s(e.modifyDate))]),t.getUserName()===e.userName?n("button",{on:{click:function(e){t.modifyCheck=!t.modifyCheck}}},[t._v("수정")]):t._e(),t.getUserName()===e.userName?n("button",{on:{click:function(n){return t.comment_delete(e.id)}}},[t._v("삭제")]):t._e()])}))],2)},ht=[],_t={data:function(){return{content:"",commentList:"",modifyCheck:!1}},created:function(){this.fetchCommentData()},methods:{getUserName:function(){return this.$store.getters.getUserName},fetchCommentData:function(){var t=this;p.a.get("/api/comment/list/"+this.$route.params.id).then((function(e){t.commentList=e.data.list,console.log(t.commentList)})).catch((function(t){window.alert(t)}))},comment_write:function(){var t=this;null!=this.$store.getters.getUserName&&""!=this.$store.getters.getUserName?this.content.length>0?p.a.post("/api/comment/write/"+this.$route.params.id,{userName:this.$store.getters.getUserName,content:this.content}).then((function(e){1!=e.data.result&&window.alert(e.data.msg),t.commentList=e.data.list})).catch((function(t){window.alert(t)})):window.alert("내용을 입력해주세요."):window.alert("회원만 댓글을 남길 수 있습니다.")},comment_delete:function(t){var e=this;window.confirm("댓글을 삭제하시겠습니까?")&&p.a.get("/api/comment/delete/"+this.$route.params.id+"/"+t).then((function(t){window.alert(t.data.msg),e.commentList=t.data.list})).catch((function(t){window.alert(t),window.console.log(t)}))}}},wt=_t,bt=Object(_["a"])(wt,vt,ht,!1,null,"49cbf685",null),Pt=bt.exports,yt={components:{Comment:Pt},data:function(){return{board:{id:"",title:"",content:"",userName:"",modifyDate:""}}},created:function(){this.fetchData()},computed:{userNameCheck:function(){return this.$store.getters.getUserName===this.board.userName}},methods:{fetchData:function(){var t=this;p.a.get("/api/board/content/"+this.$route.params.id).then((function(e){1===e.data.result?t.board=e.data.board:(window.alert(e.data.msg),t.$router.replace("/"))})).catch((function(t){window.alert(t)}))},board_modify:function(){this.$router.push("/modify/"+this.$route.params.id)},board_delete:function(){var t=this;window.confirm("게시글을 삭제하시겠습니까?")&&p.a.get("/api/board/delete/"+this.$route.params.id).then((function(e){window.alert(e.data.msg),1===e.data.result?t.$router.push("/"):t.$router.replace("/")})).catch((function(t){window.alert(t),window.console.log(t)}))},goBack:function(){this.$router.replace("/")}}},kt=yt,Nt=Object(_["a"])(kt,gt,ft,!1,null,"cfe1ce4c",null),$t=Nt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("수정하기")]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.board.title,expression:"board.title"}],attrs:{type:"text",placeholder:"제목"},domProps:{value:t.board.title},on:{input:function(e){e.target.composing||t.$set(t.board,"title",e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.board.content,expression:"board.content"}],attrs:{placeholder:"내용"},domProps:{value:t.board.content},on:{input:function(e){e.target.composing||t.$set(t.board,"content",e.target.value)}}}),n("button",{on:{click:t.modify}},[t._v("수정")]),n("button",{on:{click:t.cancel}},[t._v("취소")])])])},Ot=[],St={data:function(){return{board:{title:"",content:""}}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;p.a.get("/api/board/content/"+this.$route.params.id).then((function(e){t.board=null,1===e.data.result?t.board=e.data.board:(window.alert(e.data.msg),t.$router.replace("/"))})).catch((function(t){window.alert(t)}))},modify:function(){var t=this;this.board.title.length>0&&this.board.content.length>0?window.confirm("게시글을 수정하시겠습니까?")&&p.a.post("/api/board/modify",this.board).then((function(e){window.alert(e.data.msg),1===e.data.result?t.$router.push("/content/"+t.$route.params.id):t.$router.replace("/")})).catch((function(t){window.alert(t)})):window.alert("모든 내용을 작성하고 버튼을 눌러주세요.")},cancel:function(){this.$router.replace("/")}}},jt=St,Dt=Object(_["a"])(jt,xt,Ot,!1,null,"28891548",null),Et=Dt.exports;o["a"].use(E["a"]);var Lt=function(){return function(t,e,n){var o=!1;if(null!=localStorage.accessToken&&(o=!0),o)return n();n("/login?returnPath=me")}},Ct=new E["a"]({mode:"history",routes:[{path:"/",name:"Body",component:J},{path:"/join",name:"Join",component:Q},{path:"/login",name:"Login",component:et},{path:"/me",name:"Me",component:ct,beforeEnter:Lt()},{path:"/write",name:"Write",component:mt},{path:"/content/:id",component:$t},{path:"/modify/:id",component:Et}]});o["a"].config.productionTip=!1,o["a"].prototype.$EventBus=new o["a"],new o["a"]({render:function(t){return t(D)},router:Ct,store:f,components:{App:D}}).$mount("#app")},6:function(t,e){},7:function(t,e){},8:function(t,e){},"85ec":function(t,e,n){},9:function(t,e){}});
//# sourceMappingURL=app.25b6b709.js.map