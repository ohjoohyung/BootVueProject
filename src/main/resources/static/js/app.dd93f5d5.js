(function(t){function e(e){for(var o,i,c=e[0],u=e[1],s=e[2],p=0,d=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),r=n.n(o);r.a},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},16:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),o("Header"),o("router-view")],1)},a=[],i=n("30dc"),c=n.n(i),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[null==t.isAuthenticated?n("router-link",{attrs:{to:"/join"}},[t._v("회원가입")]):t._e(),t._v(" "),null==t.isAuthenticated?n("router-link",{attrs:{to:"/login"}},[t._v("로그인")]):t._e(),t._v(" "),null!=t.isAuthenticated?n("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("로그아웃")]):t._e(),t._v(" "),null!=t.isAuthenticated?n("router-link",{attrs:{to:"/me"}},[t._v("Me")]):t._e()],1)},s=[],l=(n("a15b"),n("d81d"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("2f62")),p=n("bc3a"),d=n.n(p);o["a"].use(l["a"]);var f=function(){var t=localStorage,e=t.accessToken;e&&(d.a.defaults.headers.common["Authorization"]="Bearer ".concat(e))};f();var m=function(t){var e=t.split(".")[1],n=e.replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(n).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(o)},v=new l["a"].Store({state:{accessToken:null===localStorage.accessToken?null:localStorage.accessToken},getters:{isAuthenticated:function(t){return t.accessToken},getUserName:function(t){return m(t.accessToken).name}},mutations:{LOGIN:function(t,e){t.accessToken=e,localStorage.accessToken=e},LOGOUT:function(t){t.accessToken=null,delete localStorage.accessToken}},actions:{LOGIN:function(t,e){var n=t.commit,o=e.email,r=e.password;return d.a.post("/api/login",{email:o,password:r}).then((function(t){var e=t.data;n("LOGIN",e),d.a.defaults.headers.common["Authorization"]="Bearer ".concat(e)}))},LOGOUT:function(t){var e=t.commit;d.a.defaults.headers.common["Authorization"]=void 0,e("LOGOUT")}}}),h={computed:{isAuthenticated:function(){return v.getters.isAuthenticated}},methods:{logout:function(){var t=this;v.dispatch("LOGOUT").then((function(){return t.$router.push("/")}))}}},g=h,w=n("2877"),_=Object(w["a"])(g,u,s,!1,null,null,null),b=_.exports,O={name:"App",components:{Header:b},mounted:function(){c()("http://localhost:8081/api/hello",(function(t,e,n){window.console.log("error: ",t),window.console.log("statusCode: ",e&&e.statusCode),window.console.log("body: ",n)}))}},y=O,x=(n("034f"),Object(w["a"])(y,r,a,!1,null,null,null)),k=x.exports,j=n("8c4f"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("메인 페이지")]),n("div",[t.isAuthenticated?n("router-link",{attrs:{to:"/write"}},[t._v("글쓰기")]):t._e()],1),n("table",[n("th",[t._v("번호")]),n("th",[t._v("제목")]),n("th",[t._v("작성자")]),n("th",[t._v("작성일")]),t._l(t.boardList,(function(e){return n("tbody",{key:e.id},[n("tr",[n("td",[t._v(t._s(e.id))]),n("td",[n("a",{on:{click:function(n){return t.enterContent(e.id)}}},[t._v(t._s(e.title))])]),n("td",[t._v(t._s(e.userName))]),n("td",[t._v(t._s(e.modifyDate))])])])}))],2)])},$=[],P={computed:{isAuthenticated:function(){return v.getters.isAuthenticated}},data:function(){return{list:"",boardList:""}},created:function(){this.fetchData(0)},watch:{$route:"fetchData"},methods:{fetchData:function(t){var e=this;d.a.get("/api/list/"+t).then((function(t){e.boardList=t.data.list.content})).catch((function(t){window.alert(t)}))},enterContent:function(t){this.$router.push("/content/"+t)}}},A=P,N=Object(w["a"])(A,T,$,!1,null,"71f36d6a",null),S=N.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("회원가입")]),n("p",[t._v("ID : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("p",[t._v("PWD : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("p",[t._v("이름 : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("button",{on:{click:t.join}},[t._v("가입")])])},D=[],E={data:function(){return{email:"",password:"",name:""}},methods:{join:function(){if(this.email&&this.password&&this.name){var t=this;d.a.post("/api/join",{email:this.email,password:this.password,name:this.name}).then((function(e){window.alert(e),t.$router.push({path:"/login"})})).catch((function(t){window.alert(t)}))}else window.alert("모든 항목을 입력해주세요.")}}},G=E,I=Object(w["a"])(G,L,D,!1,null,"777dd49c",null),M=I.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("로그인")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.email,t.password)}}},[n("p",[t._v("ID : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("p",[t._v("PWD : "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("input",{attrs:{type:"submit",value:"Login"}})]),n("p",[n("i",[t._v(t._s(t.msg))])])])},C=[],J={data:function(){return{email:"",password:"",msg:""}},methods:{onSubmit:function(t,e){var n=this;this.$store.dispatch("LOGIN",{email:t,password:e}).then((function(){return n.redirect()})).catch((function(t){var e=t.message;return n.msg=e}))},redirect:function(){this.$router.push("/")}}},z=J,B=Object(w["a"])(z,U,C,!1,null,"74004254",null),W=B.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("여긴 ME")])},R=[],V={name:"me"},q=V,F=Object(w["a"])(q,H,R,!1,null,"757fc088",null),K=F.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("글쓰기")]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"제목"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:"내용"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("button",{on:{click:t.write}},[t._v("작성")]),n("button",{on:{click:t.cancel}},[t._v("취소")])])])},X=[],Y={data:function(){return{title:"",content:""}},methods:{write:function(){var t=this;this.title.length>0&&this.content.length>0?d.a.post("/api/write",{userName:this.$store.getters.getUserName,title:this.title,content:this.content}).then((function(e){window.alert(e.data.msg),1===e.data.result?t.$router.push("/"):t.$router.replace("/write")})).catch((function(t){window.alert(t)})):window.alert("모든 내용을 작성하고 버튼을 눌러주세요.")},cancel:function(){this.$router.replace("/")}}},Z=Y,tt=Object(w["a"])(Z,Q,X,!1,null,"103f3cd0",null),et=tt.exports;o["a"].use(j["a"]);var nt=function(){return function(t,e,n){var o=!1;if(null!=localStorage.accessToken&&(o=!0),o)return n();n("/login?returnPath=me")}},ot=new j["a"]({mode:"history",routes:[{path:"/",name:"Body",component:S},{path:"/join",name:"Join",component:M},{path:"/login",name:"Login",component:W},{path:"/me",name:"Me",component:K,beforeEnter:nt()},{path:"/write",name:"Write",component:et}]});o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(k)},router:ot,store:v,components:{App:k}}).$mount("#app")},6:function(t,e){},7:function(t,e){},8:function(t,e){},"85ec":function(t,e,n){},9:function(t,e){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.dd93f5d5.js.map